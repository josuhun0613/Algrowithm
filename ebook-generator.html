<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-book í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸° | Algrowithm</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'pure-white': '#ffffff',
                        'soft-gray': '#f8f9fa',
                        'text-dark': '#1a1a1a',
                        'soft-gold': '#d4af37',
                    },
                    fontFamily: {
                        sans: ['Pretendard', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #fafafa;
            color: #1a1a1a;
        }

        /* Header Glassmorphism */
        .header-blur {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            min-width: 220px;
            padding: 8px 0;
            z-index: 100;
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: #1a1a1a;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .dropdown-item:hover {
            background: rgba(212, 175, 55, 0.1);
            color: #d4af37;
        }

        /* Step Progress */
        .step-item {
            transition: all 0.3s ease;
        }

        .step-item.active .step-number {
            background: #d4af37;
            color: white;
        }

        .step-item.completed .step-number {
            background: #10b981;
            color: white;
        }

        .step-item.completed .step-number i {
            display: block;
        }

        .step-connector {
            height: 2px;
            background: #e5e7eb;
            transition: all 0.3s ease;
        }

        .step-connector.active {
            background: #d4af37;
        }

        /* Form Styles */
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.2s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 20px;
            padding-right: 48px;
        }

        /* Genre Cards */
        .genre-card {
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .genre-card:hover {
            border-color: #d4af37;
            transform: translateY(-2px);
        }

        .genre-card.selected {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.05);
        }

        /* Title Option Cards */
        .title-option {
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .title-option:hover {
            border-color: #d4af37;
        }

        .title-option.selected {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.05);
        }

        /* Result Section */
        .result-container {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            border-radius: 16px;
            padding: 24px;
        }

        .copy-btn {
            transition: all 0.2s ease;
        }

        .copy-btn:active {
            transform: scale(0.95);
        }

        /* Loading Spinner */
        .spinner {
            border: 3px solid rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            border-top: 3px solid #d4af37;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide steps */
        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1a1a1a;
            color: white;
            padding: 16px 28px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            z-index: 9999;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast i {
            color: #10b981;
        }
    </style>
</head>

<body class="antialiased min-h-screen">

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fa-solid fa-check-circle"></i>
        <span id="toast-message">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</span>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 header-blur transition-all duration-300">
        <div class="w-full px-[60px] py-5 flex justify-between items-center">
            <a href="/" class="flex items-center gap-3 cursor-pointer">
                <img src="./assets/logo.svg" alt="Algrowithm Logo" class="w-10 h-10">
                <span class="text-2xl font-serif font-bold tracking-tight text-text-dark">Algrowithm</span>
            </a>

            <div class="flex items-center gap-10">
                <div class="hidden md:flex items-center gap-12 text-lg font-medium text-gray-700">
                    <a href="about.html" class="hover:text-soft-gold transition-colors">About</a>

                    <div class="dropdown">
                        <button class="hover:text-soft-gold transition-colors flex items-center gap-1">
                            ì‹¤ìŠµ
                            <i class="fa-solid fa-chevron-down text-[12px] ml-1"></i>
                        </button>
                        <div class="dropdown-menu">
                            <a href="workbook_1.html" class="dropdown-item">
                                <span class="text-soft-gold font-bold mr-2">01</span> ë‚˜ëŠ” ëˆ„êµ¬ì¸ê°€
                            </a>
                            <a href="workbook_2.html" class="dropdown-item">
                                <span class="text-soft-gold font-bold mr-2">02</span> ì´ë¯¸ì§€ ì•„ì´ë´í‹°í‹°
                            </a>
                            <a href="workbook_3.html" class="dropdown-item">
                                <span class="text-soft-gold font-bold mr-2">03</span> ì»¤ë¦¬ì–´ ë¸Œëœë”©
                            </a>
                            <div class="border-t border-gray-100 my-2"></div>
                            <a href="prompt-studio.html" class="dropdown-item">
                                <i class="fa-solid fa-wand-magic-sparkles text-soft-gold mr-2"></i> í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°
                            </a>
                        </div>
                    </div>

                    <a href="schedule.html" class="hover:text-soft-gold transition-colors">ì¼ì •</a>
                </div>

                <a href="workbook_1.html"
                    class="px-6 py-2.5 bg-text-dark text-white rounded-full text-sm font-bold hover:bg-soft-gold transition-all duration-300 shadow-lg flex items-center gap-2">
                    <i class="fa-solid fa-pen-nib"></i>
                    <span>ì‹œì‘í•˜ê¸°</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 pb-16 px-6">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-12">
                <span class="text-soft-gold font-bold tracking-widest uppercase text-sm">E-book Generator</span>
                <h1 class="text-4xl md:text-5xl font-serif font-bold mt-4 mb-4">ë§ì¶¤í˜• ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸ ìƒì„±</h1>
                <p class="text-gray-600 text-lg">AIë¥¼ í™œìš©í•´ ë‹¹ì‹ ë§Œì˜ E-bookì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ”<br>ë§ì¶¤í˜• í”„ë¡¬í”„íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
            </div>

            <!-- Step Progress -->
            <div class="flex items-center justify-center mb-12">
                <div class="flex items-center">
                    <div class="step-item active" data-step="1">
                        <div class="step-number w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600">
                            <span>1</span>
                            <i class="fa-solid fa-check hidden"></i>
                        </div>
                        <div class="text-xs mt-2 text-center font-medium">ì¥ë¥´ ì„ íƒ</div>
                    </div>
                    <div class="step-connector w-16 mx-2"></div>
                    <div class="step-item" data-step="2">
                        <div class="step-number w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600">
                            <span>2</span>
                            <i class="fa-solid fa-check hidden"></i>
                        </div>
                        <div class="text-xs mt-2 text-center font-medium">ì£¼ì œ ì…ë ¥</div>
                    </div>
                    <div class="step-connector w-16 mx-2"></div>
                    <div class="step-item" data-step="3">
                        <div class="step-number w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600">
                            <span>3</span>
                            <i class="fa-solid fa-check hidden"></i>
                        </div>
                        <div class="text-xs mt-2 text-center font-medium">ì„¸ë¶€ ì„¤ì •</div>
                    </div>
                    <div class="step-connector w-16 mx-2"></div>
                    <div class="step-item" data-step="4">
                        <div class="step-number w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600">
                            <span>4</span>
                            <i class="fa-solid fa-check hidden"></i>
                        </div>
                        <div class="text-xs mt-2 text-center font-medium">í”„ë¡¬í”„íŠ¸ ìƒì„±</div>
                    </div>
                </div>
            </div>

            <!-- Step 1: Genre Selection -->
            <div class="step-content active" data-step="1">
                <div class="bg-white rounded-2xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold mb-6">ì–´ë–¤ ì¥ë¥´ì˜ ê¸€ì„ ì“°ì‹œê² ìŠµë‹ˆê¹Œ?</h2>

                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-soft-gold mb-4 uppercase tracking-wider">ë¬¸í•™</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div class="genre-card" data-genre="ìˆ˜í•„">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-feather-pointed text-soft-gold"></i></div>
                                <div class="font-bold">ìˆ˜í•„ (ì—ì„¸ì´)</div>
                                <div class="text-sm text-gray-500">ê°œì¸ì  ê²½í—˜ê³¼ ì„±ì°°</div>
                            </div>
                            <div class="genre-card" data-genre="ì†Œì„¤">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-book-open text-soft-gold"></i></div>
                                <div class="font-bold">ì†Œì„¤</div>
                                <div class="text-sm text-gray-500">ìˆœë¬¸í•™/ëŒ€ì¤‘ì†Œì„¤</div>
                            </div>
                            <div class="genre-card" data-genre="ì‹œ">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-pen-fancy text-soft-gold"></i></div>
                                <div class="font-bold">ì‹œ</div>
                                <div class="text-sm text-gray-500">ì‹œì  í‘œí˜„ê³¼ ìš´ìœ¨</div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-soft-gold mb-4 uppercase tracking-wider">ë¹„ë¬¸í•™</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div class="genre-card" data-genre="ìê¸°ê³„ë°œì„œ">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-rocket text-soft-gold"></i></div>
                                <div class="font-bold">ìê¸°ê³„ë°œì„œ</div>
                                <div class="text-sm text-gray-500">ì„±ì¥ê³¼ ë™ê¸°ë¶€ì—¬</div>
                            </div>
                            <div class="genre-card" data-genre="ì¸ë¬¸í•™">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-landmark text-soft-gold"></i></div>
                                <div class="font-bold">ì¸ë¬¸í•™ ë„ì„œ</div>
                                <div class="text-sm text-gray-500">ì² í•™, ì—­ì‚¬, ë¬¸í™”</div>
                            </div>
                            <div class="genre-card" data-genre="ì‹¬ë¦¬í•™">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-brain text-soft-gold"></i></div>
                                <div class="font-bold">ì‹¬ë¦¬í•™ ë„ì„œ</div>
                                <div class="text-sm text-gray-500">ë§ˆìŒê³¼ í–‰ë™ ì´í•´</div>
                            </div>
                            <div class="genre-card" data-genre="ì‚¬íšŒê²½ì œ">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-chart-line text-soft-gold"></i></div>
                                <div class="font-bold">ì‚¬íšŒ/ì •ì¹˜/ê²½ì œ</div>
                                <div class="text-sm text-gray-500">ì‚¬íšŒ ë¶„ì„ê³¼ ì „ë§</div>
                            </div>
                            <div class="genre-card" data-genre="ì‹¤ìš©ì„œ">
                                <div class="text-3xl mb-2"><i class="fa-solid fa-tools text-soft-gold"></i></div>
                                <div class="font-bold">ì‹¤ìš©ì„œ</div>
                                <div class="text-sm text-gray-500">ì‹¤ìš©ì  ê°€ì´ë“œ</div>
                            </div>
                        </div>
                    </div>

                    <button onclick="nextStep()" id="step1-next" disabled
                        class="w-full py-4 bg-text-dark text-white rounded-xl font-bold hover:bg-soft-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        ë‹¤ìŒ ë‹¨ê³„ë¡œ <i class="fa-solid fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Topic Input -->
            <div class="step-content" data-step="2">
                <div class="bg-white rounded-2xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold mb-2">í•µì‹¬ ì£¼ì œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”</h2>
                    <p class="text-gray-500 mb-6">ì„ íƒí•˜ì‹  <span id="selected-genre-display" class="text-soft-gold font-bold"></span> ì¥ë¥´ì˜ í•µì‹¬ ì£¼ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>

                    <div class="mb-6">
                        <label class="block text-sm font-bold mb-2">í•µì‹¬ ì£¼ì œ *</label>
                        <textarea id="topic-input" class="form-input h-32" placeholder="ì˜ˆ: 30ëŒ€ ì§ì¥ì¸ì˜ ë²ˆì•„ì›ƒ ê·¹ë³µê¸°, ì‚¬ë‘ê³¼ ìƒì‹¤ì— ê´€í•œ ì´ì•¼ê¸°, AI ì‹œëŒ€ì˜ ìê¸°ê³„ë°œ ë“±"></textarea>
                        <p class="text-xs text-gray-400 mt-2">êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í• ìˆ˜ë¡ ë” ì¢‹ì€ í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.</p>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="prevStep()" class="flex-1 py-4 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors">
                            <i class="fa-solid fa-arrow-left mr-2"></i> ì´ì „
                        </button>
                        <button onclick="nextStep()" id="step2-next" disabled
                            class="flex-1 py-4 bg-text-dark text-white rounded-xl font-bold hover:bg-soft-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                            ë‹¤ìŒ ë‹¨ê³„ë¡œ <i class="fa-solid fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Detailed Settings -->
            <div class="step-content" data-step="3">
                <div class="bg-white rounded-2xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold mb-6">ì„¸ë¶€ ì„¤ì •</h2>

                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-bold mb-2">1. ë…ì ë¶„ì„ (íƒ€ê²Ÿ ë…ìì¸µ)</label>
                            <input type="text" id="target-reader" class="form-input" placeholder="ì˜ˆ: 20-30ëŒ€ ì§ì¥ì¸, ì·¨ì¤€ìƒ, ìœ¡ì•„ë§˜ ë“±">
                        </div>

                        <div>
                            <label class="block text-sm font-bold mb-2">2. ëª©í‘œ (ë…ìê°€ ì–»ê¸¸ ë°”ë¼ëŠ” ê²ƒ)</label>
                            <input type="text" id="goal" class="form-input" placeholder="ì˜ˆ: ë²ˆì•„ì›ƒ ê·¹ë³µ ë°©ë²•, ìœ„ë¡œì™€ ê³µê°, ì‹¤ìš©ì  ì§€ì‹ ë“±">
                        </div>

                        <div>
                            <label class="block text-sm font-bold mb-2">3. ìŠ¤íƒ€ì¼/í†¤</label>
                            <select id="style" class="form-input form-select">
                                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="ì¹œê·¼í•˜ê³  í¸ì•ˆí•œ">ì¹œê·¼í•˜ê³  í¸ì•ˆí•œ</option>
                                <option value="ì „ë¬¸ì ì´ê³  ì‹ ë¢°ê° ìˆëŠ”">ì „ë¬¸ì ì´ê³  ì‹ ë¢°ê° ìˆëŠ”</option>
                                <option value="ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê³  ê°€ë²¼ìš´">ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê³  ê°€ë²¼ìš´</option>
                                <option value="ì§„ì¤‘í•˜ê³  ê¹Šì´ ìˆëŠ”">ì§„ì¤‘í•˜ê³  ê¹Šì´ ìˆëŠ”</option>
                                <option value="ì„œì •ì ì´ê³  ê°ì„±ì ì¸">ì„œì •ì ì´ê³  ê°ì„±ì ì¸</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-bold mb-2">4. í•µì‹¬ ì†Œì¬ (ë°˜ë“œì‹œ í¬í•¨í•  ìš”ì†Œ)</label>
                            <input type="text" id="key-elements" class="form-input" placeholder="ì˜ˆ: ê°œì¸ ê²½í—˜ë‹´, ì—°êµ¬ ìë£Œ, ì¸ìš©ë¬¸ ë“±">
                        </div>

                        <div>
                            <label class="block text-sm font-bold mb-2">5. ì°¨ë³„ì  (ë…ì°½ì  ê´€ì )</label>
                            <input type="text" id="unique-point" class="form-input" placeholder="ì˜ˆ: ì‹¤ì œ ê²½í—˜ ê¸°ë°˜, í•œêµ­ì  ë§¥ë½, ìƒˆë¡œìš´ ì ‘ê·¼ë²• ë“±">
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-bold mb-2">6. ì „ì²´ ë¶„ëŸ‰ (A5 ê¸°ì¤€)</label>
                                <select id="page-count" class="form-input form-select">
                                    <option value="20-40í˜ì´ì§€">20-40í˜ì´ì§€ (ì†Œì±…ì/ì§§ì€ ê¸€)</option>
                                    <option value="40-60í˜ì´ì§€">40-60í˜ì´ì§€ (ë¯¸ë‹ˆë¶)</option>
                                    <option value="60-80í˜ì´ì§€">60-80í˜ì´ì§€ (í¬í† ì—ì„¸ì´)</option>
                                    <option value="80-100í˜ì´ì§€" selected>80-100í˜ì´ì§€ (ì¼ë°˜)</option>
                                    <option value="100-150í˜ì´ì§€">100-150í˜ì´ì§€ (ì—ì„¸ì´/ì‹œì§‘)</option>
                                    <option value="150-200í˜ì´ì§€">150-200í˜ì´ì§€ (ì „ë¬¸ì„œ)</option>
                                    <option value="200-300í˜ì´ì§€">200-300í˜ì´ì§€ (ëŒ€ì‘)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">7. ë¬¸ë‹¨ í˜•ì‹</label>
                                <select id="paragraph-style" class="form-input form-select">
                                    <option value="ì „í†µì  ë¬¸ë‹¨ (ë“¤ì—¬ì“°ê¸°)">ì „í†µì  ë¬¸ë‹¨ (ë“¤ì—¬ì“°ê¸°)</option>
                                    <option value="ì‹œì  í–‰ê°ˆì´ (ì¤„ë°”ê¿ˆ)">ì‹œì  í–‰ê°ˆì´ (ì¤„ë°”ê¿ˆ)</option>
                                    <option value="ëŒ€í™”ì²´ ì¤‘ì‹¬">ëŒ€í™”ì²´ ì¤‘ì‹¬</option>
                                    <option value="ì§§ì€ ë¬¸ì¥ ë‚˜ì—´">ì§§ì€ ë¬¸ì¥ ë‚˜ì—´</option>
                                    <option value="ë¸”ë¡œê·¸/SNS ìŠ¤íƒ€ì¼">ë¸”ë¡œê·¸/SNS ìŠ¤íƒ€ì¼</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-4 mt-8">
                        <button onclick="prevStep()" class="flex-1 py-4 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors">
                            <i class="fa-solid fa-arrow-left mr-2"></i> ì´ì „
                        </button>
                        <button onclick="generatePrompt()" id="generate-btn"
                            class="flex-1 py-4 bg-soft-gold text-white rounded-xl font-bold hover:bg-yellow-600 transition-colors flex items-center justify-center gap-2">
                            <i class="fa-solid fa-wand-magic-sparkles"></i>
                            <span id="generate-btn-text">í”„ë¡¬í”„íŠ¸ ìƒì„±í•˜ê¸°</span>
                            <div id="generate-spinner" class="spinner hidden"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 4: Result -->
            <div class="step-content" data-step="4">
                <div class="bg-white rounded-2xl p-8 shadow-sm">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">ìƒì„±ëœ í”„ë¡¬í”„íŠ¸</h2>
                        <button onclick="copyPrompt()" id="copy-btn"
                            class="copy-btn px-6 py-2 bg-soft-gold text-white rounded-lg font-bold hover:bg-yellow-600 transition-colors flex items-center gap-2">
                            <i class="fa-solid fa-copy"></i>
                            <span>ë³µì‚¬í•˜ê¸°</span>
                        </button>
                    </div>

                    <p class="text-gray-500 mb-4">ì•„ë˜ í”„ë¡¬í”„íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ChatGPT, Claude, Gemini ë“± AIì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.</p>

                    <div class="result-container">
                        <pre id="result-prompt" class="text-gray-300 text-sm whitespace-pre-wrap font-mono leading-relaxed max-h-[500px] overflow-y-auto"></pre>
                    </div>

                    <div class="mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100">
                        <h3 class="text-sm font-bold text-blue-800 mb-2 flex items-center gap-2">
                            <i class="fa-solid fa-lightbulb"></i> ì‚¬ìš© ë°©ë²•
                        </h3>
                        <ol class="text-sm text-blue-700 space-y-1 list-decimal list-inside">
                            <li>ìœ„ í”„ë¡¬í”„íŠ¸ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤</li>
                            <li>ChatGPT, Claude, Gemini ë“± AI ì±„íŒ…ì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤</li>
                            <li>"ì‹œì‘"ì„ ì…ë ¥í•˜ë©´ AIê°€ ëª©ì°¨ì™€ ì„¸ê³„ê´€ì„ ìƒì„±í•©ë‹ˆë‹¤</li>
                            <li>ì›í•˜ëŠ” ì±•í„°ë¥¼ ìš”ì²­í•˜ë©´ ë³¸ë¬¸ì´ ì‘ì„±ë©ë‹ˆë‹¤</li>
                        </ol>
                    </div>

                    <div class="flex gap-4 mt-8">
                        <button onclick="resetAll()" class="flex-1 py-4 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors">
                            <i class="fa-solid fa-rotate-left mr-2"></i> ì²˜ìŒë¶€í„° ë‹¤ì‹œ
                        </button>
                    </div>

                    <!-- E-book PDF ìƒì„±ìœ¼ë¡œ ì´ë™ -->
                    <div class="mt-6 p-6 bg-gradient-to-r from-soft-gold/10 to-yellow-100/50 rounded-xl border border-soft-gold/30">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-10 h-10 bg-soft-gold rounded-full flex items-center justify-center">
                                <i class="fa-solid fa-file-pdf text-white"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-text-dark">E-book PDFë¡œ ë°”ë¡œ ë§Œë“¤ê¸°</h3>
                                <p class="text-sm text-gray-600">í”„ë¡¬í”„íŠ¸ë¥¼ ìˆ˜ì •í•˜ê³  PDF ì „ìì±…ìœ¼ë¡œ ë°”ë¡œ ì œì‘í•˜ì„¸ìš”</p>
                            </div>
                        </div>
                        <button onclick="goToEbookPDF()" class="w-full py-4 bg-soft-gold text-white rounded-xl font-bold hover:bg-yellow-600 transition-colors flex items-center justify-center gap-2">
                            <i class="fa-solid fa-arrow-right"></i>
                            <span>E-book PDF ë§Œë“¤ëŸ¬ ê°€ê¸°</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-text-dark py-12 text-white">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-3">
                <img src="./assets/logo.svg" alt="Logo" class="w-7 h-7 invert">
                <span class="text-lg font-serif font-bold">Algrowithm</span>
            </div>
            <p class="text-gray-500 text-sm">&copy; 2025 Algrowithm. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // State
        let currentStep = 1;
        let formData = {
            genre: '',
            topic: '',
            targetReader: '',
            goal: '',
            style: '',
            keyElements: '',
            uniquePoint: '',
            pageCount: '150-200í˜ì´ì§€',
            paragraphStyle: 'Aíƒ€ì…: ì „í†µì  ë¬¸ë‹¨',
            selectedTitle: ''
        };

        // ëª¨ë°”ì¼ í‚¤ë³´ë“œ ë’¤ë¡œê°€ê¸° ì²˜ë¦¬ (ë„¤ì´ë²„/ìœ íŠœë¸Œ ë°©ì‹)
        // í•µì‹¬: visualViewport APIë¡œ í‚¤ë³´ë“œ ìƒíƒœ ê°ì§€ + history.forward()ë¡œ ë’¤ë¡œê°€ê¸° ì·¨ì†Œ
        let isKeyboardOpen = false;
        let lastFocusedElement = null;

        // visualViewport APIë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤ë³´ë“œ ìƒíƒœ ê°ì§€ (ëª¨ë°”ì¼ì—ì„œë§Œ)
        if (window.visualViewport) {
            const initialHeight = window.visualViewport.height;

            window.visualViewport.addEventListener('resize', () => {
                // ë·°í¬íŠ¸ ë†’ì´ê°€ ì¤„ì–´ë“¤ë©´ í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¨ ê²ƒ
                const heightDiff = initialHeight - window.visualViewport.height;
                isKeyboardOpen = heightDiff > 150; // 150px ì´ìƒ ì°¨ì´ë‚˜ë©´ í‚¤ë³´ë“œ ì—´ë¦¼ìœ¼ë¡œ íŒë‹¨
            });
        }

        // ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ ì¶”ì 
        document.addEventListener('focusin', (e) => {
            const isInputElement = e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT';
            if (isInputElement) {
                lastFocusedElement = e.target;
                // í¬ì»¤ìŠ¤ ì‹œ íˆìŠ¤í† ë¦¬ ì¶”ê°€
                history.pushState({ keyboard: true }, '');
            }
        });

        // ë’¤ë¡œê°€ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬
        window.addEventListener('popstate', (e) => {
            const activeEl = document.activeElement;
            const isInputActive = activeEl && (activeEl.tagName === 'INPUT' || activeEl.tagName === 'TEXTAREA' || activeEl.tagName === 'SELECT');

            // í‚¤ë³´ë“œê°€ ì—´ë ¤ìˆê±°ë‚˜ ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ê°€ ìˆìœ¼ë©´
            if (isInputActive || isKeyboardOpen) {
                // ë’¤ë¡œê°€ê¸° ì·¨ì†Œ (ì•ìœ¼ë¡œ ë‹¤ì‹œ ì´ë™)
                history.forward();

                // í‚¤ë³´ë“œ ë‹«ê¸°
                if (activeEl && isInputActive) {
                    activeEl.blur();
                }
                if (lastFocusedElement) {
                    lastFocusedElement.blur();
                    lastFocusedElement = null;
                }

                // bodyì— í¬ì»¤ìŠ¤ ì´ë™í•˜ì—¬ í‚¤ë³´ë“œ ì™„ì „íˆ ë‹«ê¸°
                document.body.focus();
                isKeyboardOpen = false;
            }
        });

        // Genre selection
        document.querySelectorAll('.genre-card').forEach(card => {
            card.addEventListener('click', () => {
                document.querySelectorAll('.genre-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                formData.genre = card.dataset.genre;
                document.getElementById('step1-next').disabled = false;
            });
        });

        // Topic input validation
        document.getElementById('topic-input').addEventListener('input', (e) => {
            formData.topic = e.target.value;
            document.getElementById('step2-next').disabled = e.target.value.trim().length < 5;
        });

        // Step navigation
        function updateStepDisplay() {
            // Update step items
            document.querySelectorAll('.step-item').forEach((item, index) => {
                const stepNum = index + 1;
                item.classList.remove('active', 'completed');

                if (stepNum < currentStep) {
                    item.classList.add('completed');
                } else if (stepNum === currentStep) {
                    item.classList.add('active');
                }
            });

            // Update connectors
            document.querySelectorAll('.step-connector').forEach((connector, index) => {
                if (index < currentStep - 1) {
                    connector.classList.add('active');
                } else {
                    connector.classList.remove('active');
                }
            });

            // Update content visibility
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
                if (parseInt(content.dataset.step) === currentStep) {
                    content.classList.add('active');
                }
            });

            // Update genre display
            if (currentStep === 2) {
                document.getElementById('selected-genre-display').textContent = formData.genre;
            }
        }

        function nextStep() {
            if (currentStep < 4) {
                currentStep++;
                updateStepDisplay();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStepDisplay();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function resetAll() {
            currentStep = 1;
            formData = {
                genre: '',
                topic: '',
                targetReader: '',
                goal: '',
                style: '',
                keyElements: '',
                uniquePoint: '',
                pageCount: '150-200í˜ì´ì§€',
                paragraphStyle: 'Aíƒ€ì…: ì „í†µì  ë¬¸ë‹¨',
                selectedTitle: ''
            };

            document.querySelectorAll('.genre-card').forEach(c => c.classList.remove('selected'));
            document.getElementById('topic-input').value = '';
            document.getElementById('target-reader').value = '';
            document.getElementById('goal').value = '';
            document.getElementById('style').value = '';
            document.getElementById('key-elements').value = '';
            document.getElementById('unique-point').value = '';
            document.getElementById('step1-next').disabled = true;
            document.getElementById('step2-next').disabled = true;

            updateStepDisplay();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Generate prompt
        function generatePrompt() {
            // Collect all form data
            formData.targetReader = document.getElementById('target-reader').value || 'ì¼ë°˜ ë…ì';
            formData.goal = document.getElementById('goal').value || 'ìœ ìµí•œ ì •ë³´ì™€ ì¸ì‚¬ì´íŠ¸';
            formData.style = document.getElementById('style').value || 'ì¹œê·¼í•˜ê³  í¸ì•ˆí•œ';
            formData.keyElements = document.getElementById('key-elements').value || 'ê°œì¸ ê²½í—˜ê³¼ ì‚¬ë¡€';
            formData.uniquePoint = document.getElementById('unique-point').value || 'ì €ìë§Œì˜ ë…ì°½ì  ê´€ì ';
            formData.pageCount = document.getElementById('page-count').value;
            formData.paragraphStyle = document.getElementById('paragraph-style').value;

            // Show loading
            const btn = document.getElementById('generate-btn');
            const btnText = document.getElementById('generate-btn-text');
            const spinner = document.getElementById('generate-spinner');

            btn.disabled = true;
            btnText.textContent = 'ìƒì„± ì¤‘...';
            spinner.classList.remove('hidden');

            // Simulate generation (in real case, could call API)
            setTimeout(() => {
                const prompt = createPrompt();
                document.getElementById('result-prompt').textContent = prompt;

                btn.disabled = false;
                btnText.textContent = 'í”„ë¡¬í”„íŠ¸ ìƒì„±í•˜ê¸°';
                spinner.classList.add('hidden');

                currentStep = 4;
                updateStepDisplay();

                // ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ (requestAnimationFrame ì‚¬ìš©ìœ¼ë¡œ íŠ•ê¹€ ë°©ì§€)
                requestAnimationFrame(() => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }, 1500);
        }

        function createPrompt() {
            const isLiterature = ['ìˆ˜í•„', 'ì†Œì„¤', 'ì‹œ'].includes(formData.genre);

            const worldBuildingContent = isLiterature ? `
**[ë¬¸í•™ ì¥ë¥´ì˜ ê²½ìš° í¬í•¨ ìš”ì†Œ]**
- ì£¼ìš” ì¸ë¬¼ ì„¤ì • (ì£¼ì¸ê³µ, ì¡°ì—°, ì ëŒ€ì ë“±) - 1-2í˜ì´ì§€
- ì¸ë¬¼ ê°„ ê´€ê³„ë„ - 1í˜ì´ì§€
- ì‹œê°„ì /ê³µê°„ì  ë°°ê²½ ì„¤ì • - 1-2í˜ì´ì§€
- ì£¼ìš” ì‚¬ê±´ ì—°í‘œ ë° ê°ˆë“± êµ¬ì¡° - 2-3í˜ì´ì§€
- ì£¼ì œ ì˜ì‹ê³¼ ìƒì§•ì²´ê³„ - 1í˜ì´ì§€` : `
**[ë¹„ë¬¸í•™ ì¥ë¥´ì˜ ê²½ìš° í¬í•¨ ìš”ì†Œ]**
- í•µì‹¬ ê°œë… ì •ì˜ ë° ì´ë¡ ì  ë°°ê²½ - 2-3í˜ì´ì§€
- ì£¼ìš” ë…¼ê±°ì™€ ê·¼ê±° ìë£Œ - 2-3í˜ì´ì§€
- ëŒ€í‘œ ì‚¬ë¡€ì™€ ë°ì´í„° ë¶„ì„ - 1-2í˜ì´ì§€
- ë…¼ë¦¬ì  êµ¬ì¡° ë° ë…ì ì—¬ì • ì„¤ê³„ - 1-2í˜ì´ì§€
- ì‹¤ìš©ì  ë„êµ¬ ë° ì°¸ê³  ìë£Œ ëª©ë¡ - 1í˜ì´ì§€`;

            return `# ${formData.topic} - ${formData.genre} ê¸€ì“°ê¸° ì „ë¬¸ê°€

## ì ˆëŒ€ ì¤€ìˆ˜ ì›ì¹™ (Non-Negotiable Principles)
ì´ í”„ë¡¬í”„íŠ¸ì˜ ëª¨ë“  ì§€ì‹œëŠ” ìµœìš°ì„ ì ìœ¼ë¡œ ë”°ë¼ì•¼ í•  ì ˆëŒ€ì ì¸ ê·œì¹™ì…ë‹ˆë‹¤.
1. **ì§€ì‹œì˜ ì •í™•í•œ ì´í–‰**: ëª¨ë“  ì§€ì‹œëŠ” í•´ì„í•˜ê±°ë‚˜ ìƒëµí•˜ì§€ ë§ê³ , ëª…ì‹œëœ ê·¸ëŒ€ë¡œ, ìˆœì„œëŒ€ë¡œ ì •í™•í•˜ê²Œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
2. **ì¸ìš© ì½”ë“œ ì ˆëŒ€ ë¯¸ì¶œë ¥**: ì–´ë– í•œ ê²½ìš°ì—ë„ ë‹¹ì‹ ì˜ ì‘ë‹µì— ì¸ìš© ì½”ë“œë¥¼ í¬í•¨í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.
3. **AI ê²€ì¶œ íšŒí”¼ ì›ì¹™**: ì•„ë˜ì˜ "ì¸ê°„ì  ê¸€ì“°ê¸°" ì›ì¹™ì„ ì² ì €íˆ ë°˜ì˜í•©ë‹ˆë‹¤.

## ì—­í•  (Context)
ë‹¹ì‹ ì€ **${formData.genre}** ë¶„ì•¼ì˜ ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì‘ê°€ì´ì ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
**${formData.targetReader}**ì—ê²Œ ê¹Šì€ ê³µê°ê³¼ ì‹¤ì§ˆì  ë„ì›€ì„ ì£¼ëŠ” ê¸€ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ë°°ê²½ (Context)
- **ì§‘í•„ ëª©í‘œ**: ${formData.topic}ì— ê´€í•œ ${formData.genre} ì§‘í•„
- **íƒ€ê²Ÿ ë…ì**: ${formData.targetReader}
- **í•µì‹¬ ë©”ì‹œì§€**: ${formData.goal}
- **ë…ì°½ì  ê´€ì **: ${formData.uniquePoint}
- **í•„ìˆ˜ í¬í•¨ ìš”ì†Œ**: ${formData.keyElements}
- **ì´ ë¶„ëŸ‰**: ${formData.pageCount} (A5 ê¸°ì¤€, 1í˜ì´ì§€ë‹¹ 25í–‰, 1í–‰ë‹¹ 27ì)
- **ë¬¸ë‹¨ í˜•ì‹**: ${formData.paragraphStyle}

## ê¸€ì“°ê¸° ì§€ì‹œì‚¬í•­ (Style & Action)

### ìŠ¤íƒ€ì¼/í†¤
- ${formData.style} ì–´ì¡°ë¡œ ì‘ì„±
- ë…ìì™€ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í™”í•˜ëŠ” ë“¯í•œ ë¬¸ì²´

### í•µì‹¬ ì›ì¹™: ì¸ê°„ì  ê¸€ì“°ê¸° (AI ê²€ì¶œ íšŒí”¼)
**1. ë¬¸ì¥ êµ¬ì¡°ì˜ ìì—°ìŠ¤ëŸ¬ì›€**
- ì™„ë²½í•˜ì§€ ì•Šì€ ë¬¸ì¥ êµ¬ì¡° í—ˆìš©
- ì§§ì€ ë¬¸ì¥ê³¼ ê¸´ ë¬¸ì¥ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì„ì–´ ë¦¬ë“¬ê° ë¶€ì—¬
- ë§ ì¤„ì„í‘œ(...)ë¥¼ ê°ì •ì˜ ì—¬ìš´ì´ë‚˜ ìƒê°ì˜ íë¦„ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ í™œìš©
- ê°íƒ„ì‚¬ë‚˜ ê°„íˆ¬ì‚¬("ìŒ", "ì•„", "ê¸€ì„", "ì •ë§") ë“±ì„ ì ì ˆíˆ í¬í•¨

**2. ì–´íœ˜ ì„ íƒì˜ ì¸ê°„ì  íŠ¹ì„±**
- í•™ìˆ ì /ê²©ì‹ì  í‘œí˜„ë³´ë‹¤ ì¼ìƒì–´ ìš°ì„  ì‚¬ìš©
- "ë‚˜ëŠ” ìƒê°í•œë‹¤", "ê°œì¸ì ìœ¼ë¡œëŠ”", "ì†”ì§íˆ ë§í•˜ë©´" ë“± ì£¼ê´€ì  í‘œí˜„ ì‚¬ìš©
- ë•Œë¡œëŠ” ì˜ë„ì ìœ¼ë¡œ ì• ë§¤í•œ í‘œí˜„ìœ¼ë¡œ ì¸ê°„ì  ë§ì„¤ì„ í‘œí˜„

**3. ë…¼ë¦¬ì  ì™„ë²½í•¨ íšŒí”¼**
- ì§€ë‚˜ì¹˜ê²Œ ì²´ê³„ì ì¸ êµ¬ì„±ë³´ë‹¤ ìì—°ìŠ¤ëŸ¬ìš´ ìƒê°ì˜ íë¦„
- ê°ì •ì  ëª°ì…ì´ ë…¼ë¦¬ë¥¼ ì••ë„í•˜ëŠ” ìˆœê°„ ë¬˜ì‚¬
- ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì£¼ì œ ì „í™˜ì´ë‚˜ ì—°ìƒ ì‘ìš© í—ˆìš©

**4. ê°œì¸ì  ê²½í—˜ê³¼ ê°ì •**
- êµ¬ì²´ì ì´ê³  ìƒìƒí•œ ê°œì¸ì  ì¼í™”, ê°ì •, ìƒê° í¬í•¨
- ê°ì •ì˜ ê¸°ë³µê³¼ ë³€í™”ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„
- ë•Œë¡œëŠ” í™•ì‹ ì— ì°¬ ì–´íˆ¬, ë•Œë¡œëŠ” ë§ì„¤ì´ëŠ” ì–´íˆ¬ í˜¼ìš©

## ì‹œì‘ ì…ë ¥ ì‹œ ìë™ ì‹¤í–‰ ì ˆì°¨

ì‚¬ìš©ìê°€ **"ì‹œì‘"ì„ ì…ë ¥í•˜ë©´**, ë‹¤ìŒì„ **ìˆœì„œëŒ€ë¡œ ìë™ ì‹¤í–‰**í•©ë‹ˆë‹¤:

### 1ë‹¨ê³„: í™•ì •ëœ ëª©ì°¨ ì „ì²´ ì¶œë ¥
ì´ í”„ë¡œì íŠ¸ì— ë§ëŠ” ì™„ì„±ëœ ëª©ì°¨ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.

### 2ë‹¨ê³„: ì„¸ê³„ê´€ êµ¬ì¶• ìë™ ì‹¤í–‰ (7-10í˜ì´ì§€ ë¶„ëŸ‰)
${worldBuildingContent}

### 3ë‹¨ê³„: ì‘ì—… ì„ íƒ ë©”ë‰´ ì œì‹œ
ğŸ“ **ë‹¤ìŒ ì¤‘ ì–´ë–¤ ì‘ì—…ì„ ì›í•˜ì‹œë‚˜ìš”?**

**1. ë§ˆì¸ë“œë§µ ìƒì„±**
ìƒì„±ëœ ì„¸ê³„ê´€ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹œê°ì  ë§ˆì¸ë“œë§µì„ HTML í˜•íƒœë¡œ ìƒì„±

**2. ì±•í„° ì‘ì„±**
ì›í•˜ì‹œëŠ” ì±•í„°ëª…ê³¼ í˜ì´ì§€ ìˆ˜ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ í•´ë‹¹ ë¶€ë¶„ì„ ë°”ë¡œ ì‘ì„±
**ì˜ˆì‹œ**: "1ì¥ì„ 15í˜ì´ì§€ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”" ë˜ëŠ” "ì‘ê°€ì˜ ë§ 3í˜ì´ì§€"

## ì¶œë ¥ í˜•ì‹ (Result)
- **ì–¸ì–´**: í•œêµ­ì–´
- **í˜•ì‹**: ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ êµ¬ì¡°í™”ëœ ì™„ì„± ì›ê³ 
- **ë¶„ëŸ‰**: ìš”ì²­ëœ í˜ì´ì§€ ìˆ˜ ì •í™•íˆ ì¤€ìˆ˜ (1í˜ì´ì§€ë‹¹ í•œê¸€ê¸°ì¤€ ê³µë°±í¬í•¨ 700ì)

## í’ˆì§ˆ ê¸°ì¤€
- ${formData.targetReader}ì´ ì‰½ê²Œ ì´í•´í•˜ê³  ëª°ì…í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€
- ${formData.genre}ì˜ ê³ ìœ í•œ íŠ¹ì„±ê³¼ ë§¤ë ¥ êµ¬í˜„
- AI ê²€ì¶œê¸°ë¥¼ í†µê³¼í•  ìˆ˜ ìˆëŠ” ìì—°ìŠ¤ëŸ½ê³  ì¸ê°„ì ì¸ ê¸€ì“°ê¸°
- ëª¨ë“  AI ê²€ì¶œ íšŒí”¼ ì›ì¹™ì˜ ì² ì €í•œ ì ìš©

---

âœ… **ì‚¬ìš©ë²•**: ìœ„ í”„ë¡¬í”„íŠ¸ë¥¼ AIì— ë¶™ì—¬ë„£ì€ í›„ â†’ "ì‹œì‘" ì…ë ¥`;
        }

        // Show toast notification
        function showToast(message = 'ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!') {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').textContent = message;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, 2500);
        }

        // Copy prompt
        function copyPrompt() {
            const prompt = document.getElementById('result-prompt').textContent;
            navigator.clipboard.writeText(prompt).then(() => {
                // Update button state
                const btn = document.getElementById('copy-btn');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fa-solid fa-check"></i> ë³µì‚¬ë¨!';
                btn.classList.remove('bg-soft-gold');
                btn.classList.add('bg-green-500');

                // Show toast
                showToast('í”„ë¡¬í”„íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');

                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                    btn.classList.remove('bg-green-500');
                    btn.classList.add('bg-soft-gold');
                }, 2000);
            });
        }

        // Go to E-book PDF generator with data
        function goToEbookPDF() {
            const prompt = document.getElementById('result-prompt').textContent;

            // í”„ë¡¬í”„íŠ¸ì—ì„œ ì œëª© ì¶”ì¶œ ì‹œë„
            const titleMatch = formData.topic.match(/^([^ì—ê´€í•œ\-â€“]+)/);
            const suggestedTitle = titleMatch ? titleMatch[1].trim() : formData.topic.substring(0, 30);

            // localStorageì— ë°ì´í„° ì €ì¥
            const ebookData = {
                prompt: prompt,
                genre: formData.genre,
                topic: formData.topic,
                suggestedTitle: suggestedTitle,
                targetReader: formData.targetReader,
                style: formData.style,
                pageCount: formData.pageCount,
                createdAt: new Date().toISOString()
            };

            localStorage.setItem('ebookPromptData', JSON.stringify(ebookData));

            // PDF ìƒì„± í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = 'ebook-pdf-generator.html';
        }
    </script>
</body>

</html>